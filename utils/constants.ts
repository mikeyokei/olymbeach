/**
 * Application Configuration and Constants
 */

export interface ShapeConfig {
  viewBoxWidth: number;
  viewBoxHeight: number;
  path: string;
  clipPathId: string;
}

export interface SlotConfig {
  id: string;
  left: string;
  top: string;
  size: number;
  color: string;
  zIndex: number;
  shape: ShapeConfig;
}

// SVG Shape Paths extracted from CÚP SVG files
const SHAPE_CUP_02: ShapeConfig = {
  viewBoxWidth: 250.13,
  viewBoxHeight: 257.63,
  clipPathId: 'clip-winner',
  path: "M246.17,114.35c-3.49-2.18-7.27-3.55-10.85-5.49-4.6-2.97-10.01-4.43-14.57-7.56-2.7-.93-5.26-2.54-7.8-3.8-4.05-1.5-7.81-3.66-11.5-5.78-6.26-3.37-12.77-5.85-19.04-9.48-6.17-2.75-7.07-4.22-7.73-11.09-.31-2.27-.66-4.63-.58-6.97,0-.14.01-.28.01-.42.02-.32.04-.64.08-.97-.05-.26-.08-.51-.12-.77-.01-.54-.02-1.07.03-1.58.17-1.24-.12-2.51-.3-3.65-.02-.05-.03-.1-.04-.15.01-.42.02-.84.05-1.27-.12-.86-.24-1.72-.35-2.58.62-1.39.01-3.17-.35-4.58-.15-1.4,0-3.02-.38-4.39-.16-.66-.19-1.46-.5-2.11-.12-1.48-.21-2.96-.28-4.45-1.03-6.66-.9-13.42-1.75-20.1-.5-4.07-.16-8.29-1.38-12.19-3.87-10.43-13.8-2.04-18.31,3.29-2.76,2-4.72,4.88-7.57,6.65-1.67,1.85-3.24,3.84-5.47,5-2.46,2.44-4.82,5.03-7.3,7.45-1.29.62-2.37,1.68-3.26,2.82-.27.23-.53.46-.79.69-.3.23-.6.45-.86.75-.03.04-.07.08-.11.12-.22.2-.43.41-.64.61-.24.19-.5.38-.72.57-.54.52-1.02.97-1.33,1.43-.14.14-.28.28-.41.42-.83,0-1.64.94-2.23,1.52-.6.65-1.31.94-1.92,1.48-.9.76-1.59,1.87-2.48,2.59-.52.52-1.13,1.14-1.61,1.83-1.56,1.46-3.05,2.99-4.46,4.53-2.42,2.12-4.88,3.83-7.07,6.26-2.08,2.23-5.16,2.43-7.91,1.75-3.88.24-7.46-1.01-11.37-.99-5.83.09-11.44-1.21-17.22-1.36-2.22.05-4.19-.78-6.46-.62-3.44-.3-6.9-1.1-10.38-.98-3.2.48-6.26-.94-9.44-.64-4.29.02-8.34-1.17-12.61-1.2-4.88.01-10.69-2.82-14.4,1.76-3.27,3.99-.25,9.09,2.4,12.5,1.18,1.7,2.18,3.68,3.36,5.39,1.2,1.43,2.35,2.77,3.11,4.5,1.23,1.88,3.15,3.43,3.93,5.61,1.9,2.37,3.68,4.96,5.11,7.69,1.44,2.02,2.75,4.29,4.34,6.28,1.01,1.51,1.33,3.49,2.68,4.85,1.96,1.86,3.48,4.02,4.68,6.48,1.37,1.84,2.85,3.61,3.77,5.66,2.85,3.41,5.93,7.86,3.71,12.47-3.35,4.25-6.49,8.83-9.76,13.19-4.08,4.91-7.52,10.33-11.77,15.1-6.75,9.7-14.05,18.94-21.4,28.15-1.05,2.48-3.65,3.92-4.68,6.36-.65,1.53-1.97,2.8-1.97,4.55.32,2.85,1.92,6.83,5.06,7.28,3.37.15,6.75.62,10.08-.09,5.56-.85,11.23-.59,16.81-.95,1.78.15,3.32-.66,5.08-.6,3.04-.08,6.01-.04,9.05-.45,4.57-.63,9.26-.04,13.79-.82,4.38-.71,8.93-.14,13.3-.36,3.92-.99,8.06-1.01,12.08-.6,3.95-.46,7.76-.92,11.7-.3,2.46.15,3.9,1.33,5.38,3.14,2.12,1.79,3.89,3.97,5.75,6.05,3.32,2.88,6.11,6.52,9.21,9.61,2.46,2.85,5.4,5.44,7.88,8.31,3.26,3.74,6.59,7.5,10.39,10.75,3.89,4.87,8.5,8.95,12.83,13.39,4.06,4.14,7.5,8.97,11.97,12.7,9.46,3.93,10.89-3.48,10.75-11.19.07-3.1.47-5.86,1.01-8.9-.17-2.64.11-5.48-.06-8.14.56-4.79.99-9.9.79-14.72.27-1.68.46-3.35.34-5,1.04-5.36.56-10.79.94-16.18.72-3.29.37-6.6.39-9.99.66-3.28.84-6.49.58-9.83v-.04c.08-3.34,3.13-5.55,5.77-6.79,1.8-1.12,3.45-2.07,5.46-2.73,3.04-1.92,5.88-4.4,9.27-5.68.92-.63,1.86-1.68,2.79-2.3,1.88-.84,3.62-1.62,5.26-2.96,1.61-1.38,3.72-2.01,5.6-2.92,2.14-1.08,3.92-2.67,6.05-3.73,2.6-1.86,5.51-3.48,8.39-4.75,1.72-1.4,3.44-2.92,5.66-3.33,2.31-1.18,4.41-2.97,6.64-4.3,1.43-.99,3.12-1.28,4.51-2.49,3.56-2.86,9.39-3.46,9.56-9.15.52-2.73-1.86-5.51-3.94-7.04l.05-.03Z",
};

const SHAPE_CUP_03: ShapeConfig = {
  viewBoxWidth: 205.27,
  viewBoxHeight: 184.87,
  clipPathId: 'clip-second',
  path: "M88.89,32.15s-.03,0-.04,0c-2.01.09-3.85.33-5.82.91-1.4.52-2.64.49-3.99.93-1.88.69-3.9.54-5.68,1.5-5.6,1.79-10.87,4.44-16.04,7.24-1.79,1.25-3.77,2.29-5.62,3.48-.77-.67-1.46-1.42-2.37-1.89-1.12-.71-2.68-1.22-3.82-1.7-1.49-.7-3.18-1.05-4.73-1.36-.35-.26-.69-.31-1.12-.37-.26-.06-.59,0-.97,0-.42,0-.9-.18-1.4-.21-.74-.03-1.4-.4-2.11-.41-1.39.02-2.95-.05-4.35.09-.58.13-1.23.17-1.84.3-.75.09-1.52-.08-2.3.04-1.71.36-3.22,1.13-4.93,1.51h-.04c-2.09.53-3.72,2.12-5.64,2.98-1.42.9-2.45,2.24-3.96,3.04-2.83,1.95-4.41,4.72-6.59,7.32-1.16,1.39-1.83,3.31-2.47,4.92-.35,1.02-.83,1.89-.95,2.95-.66,1.85-1.28,3.99-1.72,5.97-.51,1.73-.45,3.44-.05,5.15.09.92.17,2.24.22,3.29-.16,1.85.64,3.54,1.21,5.24.4,1.01.34,2.15.57,3.1.13.31.27.59.3.94.16,1,.36,1.96.69,2.99.36.83.85,1.51,1.23,2.38.72,1.73,2.22,3.18,3.28,4.65.58.83,1.06,1.67,1.74,2.43.76.83,1.86,1.6,2.71,2.45,1.88,1.72,3.25,2.7,5.51,4.06.16.12.34.22.51.34-.02,2.27,0,4.49.35,6.78.25,1.75-.07,3.41.22,5.13.3,2.31,1.63,4.63,2.09,6.82.18,3.13,1.99,5.92,2.62,8.9.22,1.53,1.1,2.77,1.84,4.1,1.26,2.64,2.94,5.09,4.31,7.64.8,1.96,2.56,3.1,3.7,4.85.61.86,1.18,1.63,1.99,2.31,1.29,1.65,2.37,3.48,3.86,4.97,1.81,2.55,4.36,4.26,6.84,6.1,2.15,1.42,3.72,2.98,5.97,4.28,1.2.62,2.06,1.66,3.15,2.4,1.4.92,2.88,1.69,4.2,2.75,2.37.98,4.6,2.28,7.12,2.85,1.71.53,3.19,1.69,4.97,2.11.61.11,1.21.23,1.77.48,1.38.58,2.64,1.37,4.06,1.89.92.23,1.8.36,2.71.63,3.08.66,6.4,1.7,9.59,1.67,1.55.3,3.27.34,4.83.5.89-.06,1.64.21,2.52.28.58.01,1.2-.04,1.8,0h.04c2.31.1,4.73-.13,7.04-.45,1.73-.01,3.29.21,4.96.14,1.54-.23,2.99-.62,4.53-.74,2.58-.42,5.05-.77,7.53-1.76,3.07-.92,6.25-1.66,9.29-2.61,2.25-.45,3.83-1.98,6.06-2.43,1.24-.26,2.24-.53,3.23-1.23,1.47-.85,2.85-1.35,4.39-1.98,1.23-.64,2.62-1.09,3.8-1.81,1.02-.75,2.04-1.21,3.3-1.74,1.62-.73,3.41-1.03,4.96-1.86,2.21-.91,3.96-2.45,6.28-3.08,1.52-.61,2.87-1.58,4.61-1.54,2.1.1,3.05,2.5,4.26,3.86,1.08,1.11,2.42,1.83,3.68,2.66,1.73,1.54,3.6,2.82,5.66,3.93,3.19,1.25,6.81.81,8.47-2.57.82-1.15.56-2.67.66-3.98.02-1.16.13-2.29.31-3.44-.08-2.11-.03-4.1-.05-6.2-.2-1.65-.96-3.12-1.31-4.71-.23-1.4-.37-2.56-.92-3.77-.29-1-1.06-1.62-1.47-2.59-.43-1.17-.87-2.5-1.5-3.68-1.63-2.77-3.65-4.94-5.55-7.57-1.15-1.2-3.05-2.73-4.04-3.98.29-.45,2.07-.61,2.73-.91,1.17-.51,2.29-.61,3.5-.83,2.92-.88,5.68-2.22,8.22-3.99,2.58-1.58,5.23-3.38,6.89-5.97.89-1.22,2.24-1.95,2.93-3.28,1.17-2.1,2.91-4.11,3.42-6.55.46-2.88,1.31-6.45-.8-8.87-1.51-1.18-2.7-2.32-4.58-2.92-1.52-.27-3.17-.36-4.73-.25-7.76-.23-10.23,5.38-10.66-2.61-.41-1.67-.69-3.47-1.18-5.13-.34-1.14-.89-2.13-1.21-3.33-.28-1.13-.37-2.35-.87-3.41-1.01-2.35-2.36-4.04-3.42-6.33-.34-1.05-1.02-1.98-1.47-2.98-.28-1.2-.93-2.24-1.67-3.23-2.39-2.3-3.68-5.65-5.86-8.15-1.03-.92-1.95-2.21-2.71-3.34-.6-.72-1.41-1.12-1.99-1.84-1.09-.94-1.8-2.36-3.14-3.04-2.06-1.78-3.87-4.15-6.27-5.5-2.67-1.4-4.79-3.66-7.49-5.15-1.2-.89-2.77-1.28-4.12-1.83-1.84-1.16-4.04-1.92-6.12-2.54-1.9-1.11-3.64-1.91-5.72-2.45-1.42-.31-2.66-.97-4-1.49-3.45-1.04-7.02-1.9-10.62-2.16-1.2-.25-2.34-.42-3.51-.92-1.42-.37-2.96-.41-4.41-.52-.2,0-.41,0-.61,0,.14-.12-8.35.43-8.21.31",
};

const SHAPE_CUP_01: ShapeConfig = {
  viewBoxWidth: 149.78,
  viewBoxHeight: 202.52,
  clipPathId: 'clip-third',
  path: "M149.37,83.92c-.2-1.41-.96-2.18-.98-3.71.04-1.77.07-3.57-.99-5.07-.6-1.25-1.15-2.46-1.47-3.77-.21-1.07-.46-2.2-.97-3.23-.79-1.48-1.49-2.99-2.23-4.46-.43-1.04-.71-2.14-1.26-3.17-1.31-2.11-2.01-4.76-3.28-6.84-1.17-2.72-2.69-5.66-4.49-8.01-.5-1.19-.86-2.58-1.6-3.66-1.08-1.44-2.02-2.73-3.02-4.17-.7-1.78-1.63-3.3-2.71-4.9-.55-1.44-1.7-2.3-2.51-3.58-.9-1.81-1.84-3.57-3.27-5.03-.75-1.16-1.63-2.16-2.68-3.08-1.1-1.05-1.33-2.64-2.44-3.7-.95-1.25-1.97-2.43-3.17-3.47-1.33-1.43-2.74-2.47-4.21-3.78-1.7-1.98-3.65-3.71-5.8-5.16-1.42-.73-2.77-1.44-3.95-2.47-1.03-.92-2.5-.87-3.74-1.43-1.78-.85-3.71-1.28-5.69-1.21-1.01.06-2.04-.04-3.04-.02-1.12.17-2.14.61-3.25.79-1.45.13-2.91.27-4.32.69-2.09.86-4.18,1.6-6.23,2.42-1.64.61-3.5,1.1-4.9,2.23-1.57.88-2.96,2.06-4.36,3.13-1.56.68-2.82,2.19-4.11,3.19-1.64.93-2.87,2.56-4.39,3.66-1.07,1.02-2.18,1.88-3.22,2.87-.59.75-1.2,1.42-1.85,2.09-.91.68-1.67,1.32-2.33,2.25-.63.65-1.45,1.22-2.16,1.82-.69.63-1.11,1.49-1.75,2.15-1.02,1.04-2.13,1.94-3.2,2.93-.72,1.08-1.34,2.17-2.44,2.92-1.36,1.13-2.71,2.73-3.79,4.14-.83,1.2-2.19,2.26-3.16,3.32-1.72,1.72-3.36,3.18-5.14,4.88-1.28,1.39-2.31,3.06-3.75,4.25-1.34,1.31-2.63,2.53-4.14,3.67-1.58,1.34-2.9,2.92-3.96,4.69-1.32,1.43-2.38,3.09-3.72,4.53-1.1,1.2-1.68,2.61-2.43,3.96-.3.79-.97,1.29-1.46,2-.9,1.21-1.15,2.8-1.72,4.18-.83,1.95-1.12,3.75-.9,5.83.08,1.2.11,2.45.62,3.58.53,1.22,1.47,2.14,2.44,2.99.48.71,1.14,1.38,1.65,2.04.61,1.02,1.72,1.38,2.57,2.21.78.45,1.12,1.26,1.88,1.76.88.84,2.05,1.29,3,1.98.91.55,1.38,1.31,2.32,1.81,1.09.59,2.45.45,3.59.66.57.28,1.21.61,1.85.79.02.01.04.01.06.02-.21.44-.47.86-.83,1.23-.93,1.24-1.29,3.19-2.11,4.53-.9,1.26-1.52,2.64-2.03,4.11-.48,1.39-1.29,2.64-1.96,3.94-.45,1.76-1.36,3.45-2.22,5.04-1.13,2.35-1.83,4.97-2.96,7.38-2.16,3.32-3.1,7.17-4.18,10.93-1.01,2.11-2.22,4.12-2.79,6.41-.68,2.24-.73,4.68-1.62,6.86-.25.76-.21,1.56-.35,2.35-.23,1.53-1.08,2.93-1.2,4.39-.29,1.2-.22,2.52-.39,3.78-.24,2.1-.6,3.86-.5,5.96-.13,1.23.25,2.54.41,3.78.11.76-.02,1.47.22,2.2.72,2.17.92,4.41,2.06,6.42,1.02,2.21,2.77,4.07,4.05,6.13.99,1.38,2.52,2.18,3.73,3.34,1.07.89,2.36,1.92,3.45,2.82,2.01,1.21,4.09,2.30,6.22,3.25,1.49.75,2.73,1.78,4.35,2.32,2.09.72,4.31,1.15,6.4,1.83,1.35.31,2.42,1.1,3.75,1.47,2.38.36,4.57.73,6.94,1.21,3,.86,5.86.97,8.90,1.44,2.30.21,4.53,1.23,6.88.9,1.25-.06,2.43.7,3.61.78,1.70-.16,3.45.48,5.06.64,1.34-.12,2.76.3,4.12.47,2.13-.31,4.14.08,6.26-.08,1.59-.2,3.23.49,4.84.18,2.24-.6,4.58-.12,6.85-.56,2.70-.12,5.24-.69,7.91-.69,1.42-.24,3.15-.81,4.65-1.04,3.38-.34,6.5-1.38,9.89-1.73,2.84-1.28,6.05-1.83,8.87-3.05,1.97-1.1,3.86-2,5.76-3.17,1.67-.66,3.07-1.74,4.33-3.01.66-.69,1.19-1.6,1.92-2.36,1.13-.91,2.1-1.63,2.73-2.90,1.47-2.43,2.88-5.04,3.01-7.79.73-3.29.65-6.75.46-10.1-.16-1.19.3-2.46.05-3.68-.38-2.25-.36-4.49-.35-6.77.05-2.36-.82-4.12-.67-6.45.2-1.74-.45-3.44-1.07-5.02-.49-1.87-.2-3.85-.59-5.74-.26-1.1-.2-2.41-.31-3.56-.34-1.18-.82-2.36-.89-3.65-.17-1.98-.37-3.90-.93-5.81-.28-1.01-.16-2.04-.33-3.06-.26-.82-.53-1.69-.78-2.63-.35-1.2-.34-2.29-.45-3.51-.34-1.89-.77-3.77-.99-5.68-.49-1.94-1.04-3.79-1.52-5.68h.02c1.32-.15,3.03-.33,4.31-.69,1.83-.14,3.57-.49,5.31-1.25,1.23-.45,2.34-.85,3.61-1.25,1.66-.91,3.22-2.16,4.73-3.33,2.04-2.4,2.68-5.64,2.78-8.73.29-1.87.27-3.79-.23-5.59v-.04Z",
};

// Slot Configuration matching "CÚP" trophy artwork
// 1st (Winner) -> Middle Top (Inside the cup)
// 2nd -> Right position
// 3rd -> Left position
// Note: Sizes will be responsive via CSS (scaled down on mobile)
export const SLOTS: SlotConfig[] = [
  { id: 'winner', left: '50%', top: '30%', size: 180, color: '#fbbf24', zIndex: 30, shape: SHAPE_CUP_02 }, // Gold (Inside Cup)
  { id: 'second', left: '80%', top: '50%', size: 140, color: '#38bdf8', zIndex: 20, shape: SHAPE_CUP_03 }, // Blue (Right)
  { id: 'third',  left: '20%', top: '50%', size: 140, color: '#a855f7', zIndex: 20, shape: SHAPE_CUP_01 }, // Purple (Left)
];

// Export shapes for SVG defs
export const SHAPES = [SHAPE_CUP_02, SHAPE_CUP_03, SHAPE_CUP_01];

// Background video - using MUA GIẢI.mp4 (relative path for GitHub Pages)
export const STATIC_BG_URL = "./MUA GIẢI.mp4";

// Face tracking thresholds
export const FACE_TRACKING = {
  // Maximum distance (pixels) between frames to consider same face
  MATCH_DISTANCE_THRESHOLD: 250,
  // Time (ms) before removing a face from tracking
  STALE_TRACK_TIMEOUT: 600,
  // Detection frame rate (ms between detections) - ~15fps for stability
  DETECTION_INTERVAL: 66,
} as const;

// Camera configuration
export const CAMERA_CONFIG = {
  width: { ideal: 1280 },
  height: { ideal: 720 },
  facingMode: 'user',
  // Optimize for performance
  frameRate: { ideal: 30, max: 30 },
  aspectRatio: { ideal: 16/9 },
} as const;

// Canvas rendering
export const CANVAS_CONFIG = {
  // Internal resolution for face bubble canvas
  INTERNAL_SIZE: 300,
  // Padding around detected face
  FACE_PADDING_MULTIPLIER: 0.6,
  FACE_PADDING_TOP_MULTIPLIER: 1.0,
  FACE_PADDING_BOTTOM_MULTIPLIER: 1.5,
} as const;

